version: 0.2

phases:
  install:
    runtime-versions:
      python: 3.11
    commands:
      - echo Installing required packages...
      - pip install -r requirements.txt  # Install any dependencies, if you have any.
  build:
    commands:
      - echo "Running unit tests"
      - python app.py 1 2 add
  post_build:
    commands:
        - echo Testing Addition.
        - |
            output=$(python3 app.py 5 10 add)
            if [ "$output" = "Result: 15.0" ]; then
              echo "Addition Test Passed"
            else
              echo "Addition Test Failed"
              exit 1
            fi
artifacts:
  files:
    - '**/*'
